<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>cisst-saw: cmnPrintf Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">cisst-saw
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="../../hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="../../d3/d7d/classcmn_printf-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">cmnPrintf Class Reference<div class="ingroups"><a class="el" href="../../d7/d3f/group__cisst_common.html">cisstCommon</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>printf-like formatted output for streams  
 <a href="../../dd/dd0/classcmn_printf.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../de/d25/cmn_printf_8h_source.html">cmnPrintf.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af834e91520896f203bf74171a852e38f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dd0/classcmn_printf.html#af834e91520896f203bf74171a852e38f">cmnPrintf</a> (const std::string &amp;formatStr)</td></tr>
<tr class="separator:af834e91520896f203bf74171a852e38f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90b02799c58a696eeef7e3ecc2772834"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dd0/classcmn_printf.html#a90b02799c58a696eeef7e3ecc2772834">~cmnPrintf</a> ()</td></tr>
<tr class="separator:a90b02799c58a696eeef7e3ecc2772834"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22f12554c865b206fb5cac761a3cd0db"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dd0/classcmn_printf.html#a22f12554c865b206fb5cac761a3cd0db">cmnPrintf</a> (const <a class="el" href="../../dd/dd0/classcmn_printf.html">cmnPrintf</a> &amp;other)</td></tr>
<tr class="separator:a22f12554c865b206fb5cac761a3cd0db"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a73ad898e5a1725bb1c99d1bccadf68b2"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dd0/classcmn_printf.html#a73ad898e5a1725bb1c99d1bccadf68b2">cmnPrintfParser</a></td></tr>
<tr class="separator:a73ad898e5a1725bb1c99d1bccadf68b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>printf-like formatted output for streams </p>
<p>This is the user interface for output formatting with C++ streams after the fashion of printf.</p>
<p>A usage example:</p>
<div class="fragment"><div class="line">std::cout &lt;&lt; <a class="code" href="../../dd/dd0/classcmn_printf.html#af834e91520896f203bf74171a852e38f">cmnPrintf</a>(<span class="stringliteral">&quot;Hello %.4f World\n&quot;</span>) &lt;&lt; 12.345;</div>
</div><!-- fragment --><p>prints the text (followed by a <br />
 newline)</p>
<pre class="fragment">Hello 12.3450 World
</pre><p><a class="el" href="../../dd/dd0/classcmn_printf.html" title="printf-like formatted output for streams ">cmnPrintf</a> can be "streamed" into any object derived from the std::ostream base class. The formatting rules are the same as in the standard C routines printf, sprintf, etc. Note that if a <a class="el" href="../../dd/dd0/classcmn_printf.html" title="printf-like formatted output for streams ">cmnPrintf</a> object is streamed out, the rest of the expression no longer behaves like an ordinary "ostream &lt;&lt;", but the <a class="el" href="../../dd/dd0/classcmn_printf.html" title="printf-like formatted output for streams ">cmnPrintf</a> object takes precedence.</p>
<p>In behavior, the format string is parsed and whenever a '' sequence is encountered, a single object is fetched from the corresponding '&lt;&lt;'. That object is formatted and printed. If there are more inputs in the '&lt;&lt;' sequence than `' sequences in the format string, then only the objects that correspond to '' sequences are printed, and the rest are ignored. For example,</p>
<div class="fragment"><div class="line">std::cout &lt;&lt; <a class="code" href="../../dd/dd0/classcmn_printf.html#af834e91520896f203bf74171a852e38f">cmnPrintf</a>(<span class="stringliteral">&quot;One (%d), two and a half (%f), text (%s)&quot;</span>)</div>
<div class="line">          &lt;&lt; 1 &lt;&lt; 2.5 &lt;&lt; <span class="stringliteral">&quot;text-input&quot;</span> &lt;&lt; 10;</div>
</div><!-- fragment --><p>will print:</p>
<pre class="fragment">One (1), two and a half (2.5), text (text-input)
</pre><p>and ignore the input 10.</p>
<p>If there are fewer inputs in the '&lt;&lt;' sequence, then the formatting occurs until the '' sequence that follows the last input object, and stops there. For example,</p>
<div class="fragment"><div class="line">std::cout &lt;&lt; <a class="code" href="../../dd/dd0/classcmn_printf.html#af834e91520896f203bf74171a852e38f">cmnPrintf</a>(<span class="stringliteral">&quot;One (%d), two and a half (%f), text (%s)&quot;</span>)</div>
<div class="line">          &lt;&lt; 1 &lt;&lt; 2.5;</div>
</div><!-- fragment --><p>will print:</p>
<pre class="fragment">One (1), two and a half (2.5), text(
</pre><p>Default formatting is provided for the types double ("%f"), int ("%d") and const char * ("%s"). Other basic types are automatically converted by the compiler to one of these and printed. However, the model can be extended to include more output types. See the documentation of <a class="el" href="../../d5/dd9/classcmn_printf_parser.html" title="Parser for cmnPrintf. ">cmnPrintfParser</a> for more information.</p>
<p>Note that special ios manipulators and functions, such as endl, flush, setw, setprecision, etc., have no '' sequence, and therefore CANNOT be used with with <a class="el" href="../../dd/dd0/classcmn_printf.html" title="printf-like formatted output for streams ">cmnPrintf</a>. To print a newline (without flush), one may, for example, include a '<br />
' character in the format stream, as done with the C printf function. To flush, a flush method must be called outside of the <a class="el" href="../../dd/dd0/classcmn_printf.html" title="printf-like formatted output for streams ">cmnPrintf</a> expression.</p>
<p><a class="el" href="../../dd/dd0/classcmn_printf.html" title="printf-like formatted output for streams ">cmnPrintf</a> is stateless, which means that it does not affect any of the state variables in the output stream, such as width, precision, etc. All the output is done through conversion to character strings.</p>
<p>The allocated space for each output element is defined in <code><a class="el" href="../../d7/d3f/group__cisst_common.html#gga2dbb69cb7aa030799fad9b8d7a1857d5af9f1fd3238867d902ee69418278958a9">cmnPrintfParser::BUFFER_SIZE</a></code>. If the length of the formatted element is larger than this number, then the output is truncated, and the text '(truncated)' is appended following the first BUFFER_SIZE characters. Unfortunately, there is no standard way to compute the length of a formatted string (snprintf is not portable to Visual Studio), and hence to way for our code to know how much memory to allocate for the result of the formatting.</p>
<p>Implementation-wise, this is a dummy class that just stores a copy of the format string. The real work is done by a <a class="el" href="../../d5/dd9/classcmn_printf_parser.html" title="Parser for cmnPrintf. ">cmnPrintfParser</a> object which is returned from operator &lt;&lt;.</p>
<p>The expression </p><div class="fragment"><div class="line">std::cout &lt;&lt; <a class="code" href="../../dd/dd0/classcmn_printf.html#af834e91520896f203bf74171a852e38f">cmnPrintf</a>(<span class="stringliteral">&quot;something&quot;</span>)</div>
</div><!-- fragment --><p>creates a <a class="el" href="../../dd/dd0/classcmn_printf.html" title="printf-like formatted output for streams ">cmnPrintf</a> object, which is streamed into std::cout. The result of the expression is an invisible <a class="el" href="../../d5/dd9/classcmn_printf_parser.html" title="Parser for cmnPrintf. ">cmnPrintfParser</a> object, into which all the following elements are streamed. The <a class="el" href="../../d5/dd9/classcmn_printf_parser.html" title="Parser for cmnPrintf. ">cmnPrintfParser</a> object parses the format string, formats the streamed objects, and forwards the formatted result to std::cout. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="af834e91520896f203bf74171a852e38f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cmnPrintf::cmnPrintf </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>formatStr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create a <a class="el" href="../../dd/dd0/classcmn_printf.html" title="printf-like formatted output for streams ">cmnPrintf</a> object and provide a format string following the printf specification. The <a class="el" href="../../dd/dd0/classcmn_printf.html" title="printf-like formatted output for streams ">cmnPrintf</a> object stores a copy of the format string. </p>

</div>
</div>
<a class="anchor" id="a90b02799c58a696eeef7e3ecc2772834"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cmnPrintf::~cmnPrintf </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Destructor. Delete any internally allocated memory </p>

</div>
</div>
<a class="anchor" id="a22f12554c865b206fb5cac761a3cd0db"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cmnPrintf::cmnPrintf </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../dd/dd0/classcmn_printf.html">cmnPrintf</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Copy constructor. We would like to have this constructor private but gcc-4.0.2 complains if it is private even thought is doesn't use it. </p>

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a class="anchor" id="a73ad898e5a1725bb1c99d1bccadf68b2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="../../d5/dd9/classcmn_printf_parser.html">cmnPrintfParser</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/Users/anton/devel/cisst-saw/cisst/cisstCommon/<a class="el" href="../../de/d25/cmn_printf_8h_source.html">cmnPrintf.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
