\hypertarget{classcmn_multiplexer_streambuf}{}\section{cmn\+Multiplexer\+Streambuf$<$ \+\_\+element, \+\_\+trait $>$ Class Template Reference}
\label{classcmn_multiplexer_streambuf}\index{cmn\+Multiplexer\+Streambuf$<$ \+\_\+element, \+\_\+trait $>$@{cmn\+Multiplexer\+Streambuf$<$ \+\_\+element, \+\_\+trait $>$}}


A Streambuffer class that allows output to multiple streambuf objects.  




{\ttfamily \#include $<$cmn\+Multiplexer\+Streambuf.\+h$>$}

Inheritance diagram for cmn\+Multiplexer\+Streambuf$<$ \+\_\+element, \+\_\+trait $>$\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{d0/d78/classcmn_multiplexer_streambuf}
\end{center}
\end{figure}
\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
typedef std\+::basic\+\_\+streambuf$<$ \+\_\+element, \+\_\+trait $>$ \hyperlink{classcmn_multiplexer_streambuf_a7eb353f0b5fed1a2c8707712aac82095}{Channel\+Type}
\item 
typedef std\+::basic\+\_\+streambuf$<$ \+\_\+element, \+\_\+trait $>$\+::\hyperlink{classcmn_multiplexer_streambuf_aaa63d7e4ef3d7ef78dee540971ec88e9}{int\+\_\+type} \hyperlink{classcmn_multiplexer_streambuf_aaa63d7e4ef3d7ef78dee540971ec88e9}{int\+\_\+type}
\item 
typedef std\+::list$<$ \hyperlink{classcmn_multiplexer_streambuf_a7eb353f0b5fed1a2c8707712aac82095}{Channel\+Type} $\ast$ $>$ \hyperlink{classcmn_multiplexer_streambuf_a3b414c7f89b55584aef7c8b655bc03ea}{Channel\+Container\+Type}
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classcmn_multiplexer_streambuf_a756cefd50738a086f4a5c99c69907f7b}{cmn\+Multiplexer\+Streambuf} ()
\item 
void \hyperlink{classcmn_multiplexer_streambuf_a1e33a4858eb94ed085987ddbcc01a1d0}{Add\+Channel} (\hyperlink{classcmn_multiplexer_streambuf_a7eb353f0b5fed1a2c8707712aac82095}{Channel\+Type} $\ast$channel)
\item 
void \hyperlink{classcmn_multiplexer_streambuf_affd9794b9412295cf157d204fc71cf8e}{Remove\+Channel} (\hyperlink{classcmn_multiplexer_streambuf_a7eb353f0b5fed1a2c8707712aac82095}{Channel\+Type} $\ast$channel)
\item 
const \hyperlink{classcmn_multiplexer_streambuf_a3b414c7f89b55584aef7c8b655bc03ea}{Channel\+Container\+Type} \& \hyperlink{classcmn_multiplexer_streambuf_af2b0f1faceb2ab33e317f2074ca88e15}{Get\+Channels} () const 
\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual std\+::streamsize \hyperlink{classcmn_multiplexer_streambuf_a0e5181e114c169527135d01b28d94169}{xsputn} (const \+\_\+element $\ast$s, std\+::streamsize n)
\item 
virtual int \hyperlink{classcmn_multiplexer_streambuf_a3e1f49548cb968afcdeabe62da5a5ae9}{sync} ()
\item 
virtual \hyperlink{classcmn_multiplexer_streambuf_aaa63d7e4ef3d7ef78dee540971ec88e9}{int\+\_\+type} \hyperlink{classcmn_multiplexer_streambuf_a90999d31356176b52174452e2a43c1ae}{overflow} (\hyperlink{classcmn_multiplexer_streambuf_aaa63d7e4ef3d7ef78dee540971ec88e9}{int\+\_\+type} c=\+\_\+trait\+::eof())
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\subsubsection*{template$<$class \+\_\+element, class \+\_\+trait = std\+::char\+\_\+traits$<$\+\_\+element$>$$>$class cmn\+Multiplexer\+Streambuf$<$ \+\_\+element, \+\_\+trait $>$}

A Streambuffer class that allows output to multiple streambuf objects. 

Types for dynamic control of output messages. This includes debugging information, error reporting, state logging etc. This file declares {\itshape class \hyperlink{classcmn_multiplexer_streambuf}{cmn\+Multiplexer\+Streambuf}}. It is a templated class derived from the standard library\textquotesingle{}s basic\+\_\+streambuf, with the main additional feature that enables channeling the output to multiple other streambuf objects. The multiplexing is implemented by overriding basic\+\_\+streambuf output functions \hyperlink{classcmn_multiplexer_streambuf_a0e5181e114c169527135d01b28d94169}{xsputn()}, \hyperlink{classcmn_multiplexer_streambuf_a90999d31356176b52174452e2a43c1ae}{overflow()} and \hyperlink{classcmn_multiplexer_streambuf_a3e1f49548cb968afcdeabe62da5a5ae9}{sync()}.

Usage\+: Include the module in your application with\+: \#include \char`\"{}cmn\+Multiplexer\+Streambuf.\+h\char`\"{}

Add output streambuf channels to the multiplexer using the \hyperlink{classcmn_multiplexer_streambuf_a1e33a4858eb94ed085987ddbcc01a1d0}{Add\+Channel()} method.

Remove output channels from the multiplexer using the \hyperlink{classcmn_multiplexer_streambuf_affd9794b9412295cf157d204fc71cf8e}{Remove\+Channel()} method.

Attach a \hyperlink{classcmn_multiplexer_streambuf}{cmn\+Multiplexer\+Streambuf} object with an ostream. The output functions $<$$<$ , put(), write() etc will operate directly on the \hyperlink{classcmn_multiplexer_streambuf}{cmn\+Multiplexer\+Streambuf}.

Example of using a \hyperlink{classcmn_output_multiplexer}{cmn\+Output\+Multiplexer}, which is an ostream using a cmn\+Multiplexer\+Strembuf (an output stream with multiplexer streambuf)\+:


\begin{DoxyCode}
ofstream log(\textcolor{stringliteral}{"logfile.txt"});
windowoutputstream display;   \textcolor{comment}{// hypothesized class}

\hyperlink{classcmn_output_multiplexer}{cmnOutputMultiplexer} multiplexer;
multiplexer.\hyperlink{classcmn_output_multiplexer_a70d534895f21217e1e7e75e837fc65e7}{AddChannel}(&log);
multiplexer.\hyperlink{classcmn_output_multiplexer_a70d534895f21217e1e7e75e837fc65e7}{AddChannel}(&windowoutputstream);

multiplexer << \textcolor{stringliteral}{"Hello, world"} << endl;  \textcolor{comment}{// channel the message to all streams.}
\end{DoxyCode}


Notes\+:
\begin{DoxyEnumerate}
\item \hyperlink{classcmn_multiplexer_streambuf}{cmn\+Multiplexer\+Streambuf} does not O\+W\+N the output channels. They are created and destroyed externally.
\item The initial implementation uses a list to store the addresses of the output channels. There is no guarantee on the order of storage or the order of output channelling.
\item It is assumed that none of the output channels modifies the data arguments.
\item It is guaranteed that unique streambuf instances are stored in a single \hyperlink{classcmn_multiplexer_streambuf}{cmn\+Multiplexer\+Streambuf}. The \hyperlink{classcmn_multiplexer_streambuf_a1e33a4858eb94ed085987ddbcc01a1d0}{Add\+Channel()} function checks for uniqueness.
\item \hyperlink{classcmn_multiplexer_streambuf}{cmn\+Multiplexer\+Streambuf} does not buffer data. Instead, whenever at attempt is made to use stream\+::put() on a stream with a multiplexer streambuf, the \hyperlink{classcmn_multiplexer_streambuf_a90999d31356176b52174452e2a43c1ae}{cmn\+Multiplexer\+Streambuf\+::overflow()} is called automatically, and it forwards the character to the output channels.

\begin{DoxySeeAlso}{See also}
C++ manual on basic\+\_\+ostream and basic\+\_\+streambuf. \hyperlink{cmn_output_multiplexer_8h}{cmn\+Output\+Multiplexer.\+h} 
\end{DoxySeeAlso}

\end{DoxyEnumerate}

\subsection{Member Typedef Documentation}
\hypertarget{classcmn_multiplexer_streambuf_a3b414c7f89b55584aef7c8b655bc03ea}{}\index{cmn\+Multiplexer\+Streambuf@{cmn\+Multiplexer\+Streambuf}!Channel\+Container\+Type@{Channel\+Container\+Type}}
\index{Channel\+Container\+Type@{Channel\+Container\+Type}!cmn\+Multiplexer\+Streambuf@{cmn\+Multiplexer\+Streambuf}}
\subsubsection[{Channel\+Container\+Type}]{\setlength{\rightskip}{0pt plus 5cm}template$<$class \+\_\+element, class \+\_\+trait = std\+::char\+\_\+traits$<$\+\_\+element$>$$>$ typedef std\+::list$<${\bf Channel\+Type} $\ast$$>$ {\bf cmn\+Multiplexer\+Streambuf}$<$ \+\_\+element, \+\_\+trait $>$\+::{\bf Channel\+Container\+Type}}\label{classcmn_multiplexer_streambuf_a3b414c7f89b55584aef7c8b655bc03ea}
Type of internal data structure storing the channels. \hypertarget{classcmn_multiplexer_streambuf_a7eb353f0b5fed1a2c8707712aac82095}{}\index{cmn\+Multiplexer\+Streambuf@{cmn\+Multiplexer\+Streambuf}!Channel\+Type@{Channel\+Type}}
\index{Channel\+Type@{Channel\+Type}!cmn\+Multiplexer\+Streambuf@{cmn\+Multiplexer\+Streambuf}}
\subsubsection[{Channel\+Type}]{\setlength{\rightskip}{0pt plus 5cm}template$<$class \+\_\+element, class \+\_\+trait = std\+::char\+\_\+traits$<$\+\_\+element$>$$>$ typedef std\+::basic\+\_\+streambuf$<$\+\_\+element, \+\_\+trait$>$ {\bf cmn\+Multiplexer\+Streambuf}$<$ \+\_\+element, \+\_\+trait $>$\+::{\bf Channel\+Type}}\label{classcmn_multiplexer_streambuf_a7eb353f0b5fed1a2c8707712aac82095}
\hypertarget{classcmn_multiplexer_streambuf_aaa63d7e4ef3d7ef78dee540971ec88e9}{}\index{cmn\+Multiplexer\+Streambuf@{cmn\+Multiplexer\+Streambuf}!int\+\_\+type@{int\+\_\+type}}
\index{int\+\_\+type@{int\+\_\+type}!cmn\+Multiplexer\+Streambuf@{cmn\+Multiplexer\+Streambuf}}
\subsubsection[{int\+\_\+type}]{\setlength{\rightskip}{0pt plus 5cm}template$<$class \+\_\+element, class \+\_\+trait = std\+::char\+\_\+traits$<$\+\_\+element$>$$>$ typedef std\+::basic\+\_\+streambuf$<$\+\_\+element, \+\_\+trait$>$\+::{\bf int\+\_\+type} {\bf cmn\+Multiplexer\+Streambuf}$<$ \+\_\+element, \+\_\+trait $>$\+::{\bf int\+\_\+type}}\label{classcmn_multiplexer_streambuf_aaa63d7e4ef3d7ef78dee540971ec88e9}


\subsection{Constructor \& Destructor Documentation}
\hypertarget{classcmn_multiplexer_streambuf_a756cefd50738a086f4a5c99c69907f7b}{}\index{cmn\+Multiplexer\+Streambuf@{cmn\+Multiplexer\+Streambuf}!cmn\+Multiplexer\+Streambuf@{cmn\+Multiplexer\+Streambuf}}
\index{cmn\+Multiplexer\+Streambuf@{cmn\+Multiplexer\+Streambuf}!cmn\+Multiplexer\+Streambuf@{cmn\+Multiplexer\+Streambuf}}
\subsubsection[{cmn\+Multiplexer\+Streambuf}]{\setlength{\rightskip}{0pt plus 5cm}template$<$class \+\_\+element, class \+\_\+trait = std\+::char\+\_\+traits$<$\+\_\+element$>$$>$ {\bf cmn\+Multiplexer\+Streambuf}$<$ \+\_\+element, \+\_\+trait $>$\+::{\bf cmn\+Multiplexer\+Streambuf} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classcmn_multiplexer_streambuf_a756cefd50738a086f4a5c99c69907f7b}
Constructor\+: currently empty. 

\subsection{Member Function Documentation}
\hypertarget{classcmn_multiplexer_streambuf_a1e33a4858eb94ed085987ddbcc01a1d0}{}\index{cmn\+Multiplexer\+Streambuf@{cmn\+Multiplexer\+Streambuf}!Add\+Channel@{Add\+Channel}}
\index{Add\+Channel@{Add\+Channel}!cmn\+Multiplexer\+Streambuf@{cmn\+Multiplexer\+Streambuf}}
\subsubsection[{Add\+Channel}]{\setlength{\rightskip}{0pt plus 5cm}template$<$class \+\_\+element , class \+\_\+trait $>$ void {\bf cmn\+Multiplexer\+Streambuf}$<$ \+\_\+element, \+\_\+trait $>$\+::Add\+Channel (
\begin{DoxyParamCaption}
\item[{{\bf Channel\+Type} $\ast$}]{channel}
\end{DoxyParamCaption}
)}\label{classcmn_multiplexer_streambuf_a1e33a4858eb94ed085987ddbcc01a1d0}
Add an output channel. See notes above. 
\begin{DoxyParams}{Parameters}
{\em channel} & A pointer to the output channel to be added. \\
\hline
\end{DoxyParams}
\hypertarget{classcmn_multiplexer_streambuf_af2b0f1faceb2ab33e317f2074ca88e15}{}\index{cmn\+Multiplexer\+Streambuf@{cmn\+Multiplexer\+Streambuf}!Get\+Channels@{Get\+Channels}}
\index{Get\+Channels@{Get\+Channels}!cmn\+Multiplexer\+Streambuf@{cmn\+Multiplexer\+Streambuf}}
\subsubsection[{Get\+Channels}]{\setlength{\rightskip}{0pt plus 5cm}template$<$class \+\_\+element, class \+\_\+trait = std\+::char\+\_\+traits$<$\+\_\+element$>$$>$ const {\bf Channel\+Container\+Type}\& {\bf cmn\+Multiplexer\+Streambuf}$<$ \+\_\+element, \+\_\+trait $>$\+::Get\+Channels (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\label{classcmn_multiplexer_streambuf_af2b0f1faceb2ab33e317f2074ca88e15}
Enable access to the channel storage, without addition or removal of channels. Elements of the container can be accessed using the standard const\+\_\+iterator interfaces. Note that the channels themselves are non-\/const, so individual manipulation of each is enabled. \hypertarget{classcmn_multiplexer_streambuf_a90999d31356176b52174452e2a43c1ae}{}\index{cmn\+Multiplexer\+Streambuf@{cmn\+Multiplexer\+Streambuf}!overflow@{overflow}}
\index{overflow@{overflow}!cmn\+Multiplexer\+Streambuf@{cmn\+Multiplexer\+Streambuf}}
\subsubsection[{overflow}]{\setlength{\rightskip}{0pt plus 5cm}template$<$class \+\_\+element , class \+\_\+trait $>$ {\bf cmn\+Multiplexer\+Streambuf}$<$ \+\_\+element, \+\_\+trait $>$\+::{\bf int\+\_\+type} {\bf cmn\+Multiplexer\+Streambuf}$<$ \+\_\+element, \+\_\+trait $>$\+::overflow (
\begin{DoxyParamCaption}
\item[{{\bf int\+\_\+type}}]{c = {\ttfamily \+\_\+trait\+:\+:eof()}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}\label{classcmn_multiplexer_streambuf_a90999d31356176b52174452e2a43c1ae}
Override the basic\+\_\+streambuf overflow for multiplexing. \hyperlink{classcmn_multiplexer_streambuf_a90999d31356176b52174452e2a43c1ae}{overflow()} is called when sputc() discovers it does not have space in the storage buffer. In our case, it\textquotesingle{}s always. See more on it in the basic\+\_\+streambuf documentation. \hypertarget{classcmn_multiplexer_streambuf_affd9794b9412295cf157d204fc71cf8e}{}\index{cmn\+Multiplexer\+Streambuf@{cmn\+Multiplexer\+Streambuf}!Remove\+Channel@{Remove\+Channel}}
\index{Remove\+Channel@{Remove\+Channel}!cmn\+Multiplexer\+Streambuf@{cmn\+Multiplexer\+Streambuf}}
\subsubsection[{Remove\+Channel}]{\setlength{\rightskip}{0pt plus 5cm}template$<$class \+\_\+element , class \+\_\+trait $>$ void {\bf cmn\+Multiplexer\+Streambuf}$<$ \+\_\+element, \+\_\+trait $>$\+::Remove\+Channel (
\begin{DoxyParamCaption}
\item[{{\bf Channel\+Type} $\ast$}]{channel}
\end{DoxyParamCaption}
)}\label{classcmn_multiplexer_streambuf_affd9794b9412295cf157d204fc71cf8e}
Remove an output channel. 
\begin{DoxyParams}{Parameters}
{\em channel} & A pointer to the output channel to be removed. No change occurs if the pointer is not on the list of channels for this multiplexer. \\
\hline
\end{DoxyParams}
\hypertarget{classcmn_multiplexer_streambuf_a3e1f49548cb968afcdeabe62da5a5ae9}{}\index{cmn\+Multiplexer\+Streambuf@{cmn\+Multiplexer\+Streambuf}!sync@{sync}}
\index{sync@{sync}!cmn\+Multiplexer\+Streambuf@{cmn\+Multiplexer\+Streambuf}}
\subsubsection[{sync}]{\setlength{\rightskip}{0pt plus 5cm}template$<$class \+\_\+element , class \+\_\+trait $>$ int {\bf cmn\+Multiplexer\+Streambuf}$<$ \+\_\+element, \+\_\+trait $>$\+::sync (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}\label{classcmn_multiplexer_streambuf_a3e1f49548cb968afcdeabe62da5a5ae9}
Override the basic\+\_\+streambuf sync for multiplexing. \hypertarget{classcmn_multiplexer_streambuf_a0e5181e114c169527135d01b28d94169}{}\index{cmn\+Multiplexer\+Streambuf@{cmn\+Multiplexer\+Streambuf}!xsputn@{xsputn}}
\index{xsputn@{xsputn}!cmn\+Multiplexer\+Streambuf@{cmn\+Multiplexer\+Streambuf}}
\subsubsection[{xsputn}]{\setlength{\rightskip}{0pt plus 5cm}template$<$class \+\_\+element , class \+\_\+trait $>$ std\+::streamsize {\bf cmn\+Multiplexer\+Streambuf}$<$ \+\_\+element, \+\_\+trait $>$\+::xsputn (
\begin{DoxyParamCaption}
\item[{const \+\_\+element $\ast$}]{s, }
\item[{std\+::streamsize}]{n}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}\label{classcmn_multiplexer_streambuf_a0e5181e114c169527135d01b28d94169}
Override the basic\+\_\+streambuf xsputn to do the multiplexing. 

The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
/\+Users/anton/devel/cisst-\/saw/cisst/cisst\+Common/\hyperlink{cmn_multiplexer_streambuf_8h}{cmn\+Multiplexer\+Streambuf.\+h}\end{DoxyCompactItemize}
