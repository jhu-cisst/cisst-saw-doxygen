\hypertarget{classcmn_callback_streambuf}{\section{cmn\-Callback\-Streambuf$<$ \-\_\-element, \-\_\-trait $>$ Class Template Reference}
\label{classcmn_callback_streambuf}\index{cmn\-Callback\-Streambuf$<$ \-\_\-element, \-\_\-trait $>$@{cmn\-Callback\-Streambuf$<$ \-\_\-element, \-\_\-trait $>$}}
}


A Streambuffer class that outputs via a callback function.  




{\ttfamily \#include $<$cmn\-Callback\-Streambuf.\-h$>$}

Inheritance diagram for cmn\-Callback\-Streambuf$<$ \-\_\-element, \-\_\-trait $>$\-:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{d6/df3/classcmn_callback_streambuf}
\end{center}
\end{figure}
\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
typedef std\-::basic\-\_\-streambuf\\*
$<$ \-\_\-element, \-\_\-trait $>$\-::\hyperlink{classcmn_callback_streambuf_a9599d576e1867902844cb4b5bf3150e8}{int\-\_\-type} \hyperlink{classcmn_callback_streambuf_a9599d576e1867902844cb4b5bf3150e8}{int\-\_\-type}
\item 
typedef \-\_\-element \hyperlink{classcmn_callback_streambuf_a3f220172226bbffc7cebefa8d458823a}{Element\-Type}
\item 
typedef void($\ast$ \hyperlink{classcmn_callback_streambuf_aa8a57c63e583b464a5ef66b3d1dd8117}{Callback\-Type} )(const \hyperlink{classcmn_callback_streambuf_a3f220172226bbffc7cebefa8d458823a}{Element\-Type} $\ast$, int len)
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classcmn_callback_streambuf_a09f93d86b52f31efb0387a7041f2ac6b}{cmn\-Callback\-Streambuf} (\hyperlink{classcmn_callback_streambuf_aa8a57c63e583b464a5ef66b3d1dd8117}{Callback\-Type} func)
\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \hyperlink{classcmn_callback_streambuf_a6b9c4f2c72d4ad3909959d67c25bfe78}{Print\-Line} ()
\item 
virtual \hyperlink{classcmn_callback_streambuf_a9599d576e1867902844cb4b5bf3150e8}{int\-\_\-type} \hyperlink{classcmn_callback_streambuf_ab06c380ed8bfd927dc4a83b3f3a18a39}{overflow} (\hyperlink{classcmn_callback_streambuf_a9599d576e1867902844cb4b5bf3150e8}{int\-\_\-type} c)
\item 
virtual std\-::streamsize \hyperlink{classcmn_callback_streambuf_ac5b9db0adad90622d6681c085d296b6c}{xsputn} (const \hyperlink{classcmn_callback_streambuf_a3f220172226bbffc7cebefa8d458823a}{Element\-Type} $\ast$s, std\-::streamsize n)
\item 
virtual int \hyperlink{classcmn_callback_streambuf_a8a8beb77b32c7f2856092e656632ac7c}{sync} ()
\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classcmn_callback_streambuf_a3f220172226bbffc7cebefa8d458823a}{Element\-Type} \hyperlink{classcmn_callback_streambuf_ace8ce96c1695f3122b14be13b2129383}{Buffer} \mbox{[}256\mbox{]}
\item 
unsigned int \hyperlink{classcmn_callback_streambuf_a27d747a886699be88098955251af1159}{Idx}
\item 
\hyperlink{classcmn_callback_streambuf_aa8a57c63e583b464a5ef66b3d1dd8117}{Callback\-Type} \hyperlink{classcmn_callback_streambuf_a8d35b607ee946b5574313a3f3f19be27}{Callback}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\subsubsection*{template$<$class \-\_\-element, class \-\_\-trait = std\-::char\-\_\-traits$<$\-\_\-element$>$$>$class cmn\-Callback\-Streambuf$<$ \-\_\-element, \-\_\-trait $>$}

A Streambuffer class that outputs via a callback function. 

This file declares {\itshape class \hyperlink{classcmn_callback_streambuf}{cmn\-Callback\-Streambuf}}. It is a templated class derived from the standard library's basic\-\_\-streambuf, with the additional feature that it outputs to a user-\/specified callback function. This is implemented by overriding the basic\-\_\-streambuf output functions \hyperlink{classcmn_callback_streambuf_ac5b9db0adad90622d6681c085d296b6c}{xsputn()}, \hyperlink{classcmn_callback_streambuf_ab06c380ed8bfd927dc4a83b3f3a18a39}{overflow()} and \hyperlink{classcmn_callback_streambuf_a8a8beb77b32c7f2856092e656632ac7c}{sync()}.

Usage\-: Include the module in your application with\-: \#include $<$\hyperlink{cmn_callback_streambuf_8h}{cisst\-Common/cmn\-Callback\-Streambuf.\-h}$>$

Specify the callback function in the constructor. Note that the callback function should accept two parameters\-:
\begin{DoxyEnumerate}
\item an array of elements to be printed (e.\-g., a character array)
\item the number of elements to be printed
\end{DoxyEnumerate}

The callback function is invoked when a newline character is encountered or when the internal buffer is full.

This class could be used, for example, to redirect {\itshape \hyperlink{classcmn_logger}{cmn\-Logger}} output to a G\-U\-I text window, assuming that the G\-U\-I text window provides a \char`\"{}\-Write\-Text\char`\"{} function. This class would not be needed, however, if the G\-U\-I text window is derived from the streambuf class.

Note\-: It is not clear whether the comparison to '\par
' (for the newline) will work if Element\-Type is not a char.

\begin{DoxySeeAlso}{See Also}
C++ manual on basic\-\_\-ostream and basic\-\_\-streambuf. 
\end{DoxySeeAlso}


\subsection{Member Typedef Documentation}
\hypertarget{classcmn_callback_streambuf_aa8a57c63e583b464a5ef66b3d1dd8117}{\index{cmn\-Callback\-Streambuf@{cmn\-Callback\-Streambuf}!Callback\-Type@{Callback\-Type}}
\index{Callback\-Type@{Callback\-Type}!cmnCallbackStreambuf@{cmn\-Callback\-Streambuf}}
\subsubsection[{Callback\-Type}]{\setlength{\rightskip}{0pt plus 5cm}template$<$class \-\_\-element , class \-\_\-trait  = std\-::char\-\_\-traits$<$\-\_\-element$>$$>$ typedef void($\ast$ {\bf cmn\-Callback\-Streambuf}$<$ \-\_\-element, \-\_\-trait $>$\-::Callback\-Type)(const {\bf Element\-Type} $\ast$, int len)}}\label{classcmn_callback_streambuf_aa8a57c63e583b464a5ef66b3d1dd8117}
Type of the callback function, e.\-g., void func(char $\ast$line, int len). \hypertarget{classcmn_callback_streambuf_a3f220172226bbffc7cebefa8d458823a}{\index{cmn\-Callback\-Streambuf@{cmn\-Callback\-Streambuf}!Element\-Type@{Element\-Type}}
\index{Element\-Type@{Element\-Type}!cmnCallbackStreambuf@{cmn\-Callback\-Streambuf}}
\subsubsection[{Element\-Type}]{\setlength{\rightskip}{0pt plus 5cm}template$<$class \-\_\-element , class \-\_\-trait  = std\-::char\-\_\-traits$<$\-\_\-element$>$$>$ typedef \-\_\-element {\bf cmn\-Callback\-Streambuf}$<$ \-\_\-element, \-\_\-trait $>$\-::{\bf Element\-Type}}}\label{classcmn_callback_streambuf_a3f220172226bbffc7cebefa8d458823a}
Type of the array, e.\-g., char. \hypertarget{classcmn_callback_streambuf_a9599d576e1867902844cb4b5bf3150e8}{\index{cmn\-Callback\-Streambuf@{cmn\-Callback\-Streambuf}!int\-\_\-type@{int\-\_\-type}}
\index{int\-\_\-type@{int\-\_\-type}!cmnCallbackStreambuf@{cmn\-Callback\-Streambuf}}
\subsubsection[{int\-\_\-type}]{\setlength{\rightskip}{0pt plus 5cm}template$<$class \-\_\-element , class \-\_\-trait  = std\-::char\-\_\-traits$<$\-\_\-element$>$$>$ typedef std\-::basic\-\_\-streambuf$<$\-\_\-element, \-\_\-trait$>$\-::{\bf int\-\_\-type} {\bf cmn\-Callback\-Streambuf}$<$ \-\_\-element, \-\_\-trait $>$\-::{\bf int\-\_\-type}}}\label{classcmn_callback_streambuf_a9599d576e1867902844cb4b5bf3150e8}


\subsection{Constructor \& Destructor Documentation}
\hypertarget{classcmn_callback_streambuf_a09f93d86b52f31efb0387a7041f2ac6b}{\index{cmn\-Callback\-Streambuf@{cmn\-Callback\-Streambuf}!cmn\-Callback\-Streambuf@{cmn\-Callback\-Streambuf}}
\index{cmn\-Callback\-Streambuf@{cmn\-Callback\-Streambuf}!cmnCallbackStreambuf@{cmn\-Callback\-Streambuf}}
\subsubsection[{cmn\-Callback\-Streambuf}]{\setlength{\rightskip}{0pt plus 5cm}template$<$class \-\_\-element , class \-\_\-trait  = std\-::char\-\_\-traits$<$\-\_\-element$>$$>$ {\bf cmn\-Callback\-Streambuf}$<$ \-\_\-element, \-\_\-trait $>$\-::{\bf cmn\-Callback\-Streambuf} (
\begin{DoxyParamCaption}
\item[{{\bf Callback\-Type}}]{func}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}}\label{classcmn_callback_streambuf_a09f93d86b52f31efb0387a7041f2ac6b}
Constructor\-: Sets the callback function.


\begin{DoxyParams}{Parameters}
{\em func} & The callback function. \\
\hline
\end{DoxyParams}


\subsection{Member Function Documentation}
\hypertarget{classcmn_callback_streambuf_ab06c380ed8bfd927dc4a83b3f3a18a39}{\index{cmn\-Callback\-Streambuf@{cmn\-Callback\-Streambuf}!overflow@{overflow}}
\index{overflow@{overflow}!cmnCallbackStreambuf@{cmn\-Callback\-Streambuf}}
\subsubsection[{overflow}]{\setlength{\rightskip}{0pt plus 5cm}template$<$class \-\_\-element , class \-\_\-trait  = std\-::char\-\_\-traits$<$\-\_\-element$>$$>$ virtual {\bf int\-\_\-type} {\bf cmn\-Callback\-Streambuf}$<$ \-\_\-element, \-\_\-trait $>$\-::overflow (
\begin{DoxyParamCaption}
\item[{{\bf int\-\_\-type}}]{c}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}}\label{classcmn_callback_streambuf_ab06c380ed8bfd927dc4a83b3f3a18a39}
Override the basic\-\_\-streambuf overflow to store the character in the buffer. The buffer is printed if the character is a newline or if it is full. \hypertarget{classcmn_callback_streambuf_a6b9c4f2c72d4ad3909959d67c25bfe78}{\index{cmn\-Callback\-Streambuf@{cmn\-Callback\-Streambuf}!Print\-Line@{Print\-Line}}
\index{Print\-Line@{Print\-Line}!cmnCallbackStreambuf@{cmn\-Callback\-Streambuf}}
\subsubsection[{Print\-Line}]{\setlength{\rightskip}{0pt plus 5cm}template$<$class \-\_\-element , class \-\_\-trait  = std\-::char\-\_\-traits$<$\-\_\-element$>$$>$ virtual void {\bf cmn\-Callback\-Streambuf}$<$ \-\_\-element, \-\_\-trait $>$\-::Print\-Line (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}}\label{classcmn_callback_streambuf_a6b9c4f2c72d4ad3909959d67c25bfe78}
Protected function to print the buffer (call the callback function). \hypertarget{classcmn_callback_streambuf_a8a8beb77b32c7f2856092e656632ac7c}{\index{cmn\-Callback\-Streambuf@{cmn\-Callback\-Streambuf}!sync@{sync}}
\index{sync@{sync}!cmnCallbackStreambuf@{cmn\-Callback\-Streambuf}}
\subsubsection[{sync}]{\setlength{\rightskip}{0pt plus 5cm}template$<$class \-\_\-element , class \-\_\-trait  = std\-::char\-\_\-traits$<$\-\_\-element$>$$>$ virtual int {\bf cmn\-Callback\-Streambuf}$<$ \-\_\-element, \-\_\-trait $>$\-::sync (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}}\label{classcmn_callback_streambuf_a8a8beb77b32c7f2856092e656632ac7c}
Override the basic\-\_\-streambuf sync to flush (print) the buffer. \hypertarget{classcmn_callback_streambuf_ac5b9db0adad90622d6681c085d296b6c}{\index{cmn\-Callback\-Streambuf@{cmn\-Callback\-Streambuf}!xsputn@{xsputn}}
\index{xsputn@{xsputn}!cmnCallbackStreambuf@{cmn\-Callback\-Streambuf}}
\subsubsection[{xsputn}]{\setlength{\rightskip}{0pt plus 5cm}template$<$class \-\_\-element , class \-\_\-trait  = std\-::char\-\_\-traits$<$\-\_\-element$>$$>$ virtual std\-::streamsize {\bf cmn\-Callback\-Streambuf}$<$ \-\_\-element, \-\_\-trait $>$\-::xsputn (
\begin{DoxyParamCaption}
\item[{const {\bf Element\-Type} $\ast$}]{s, }
\item[{std\-::streamsize}]{n}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}}\label{classcmn_callback_streambuf_ac5b9db0adad90622d6681c085d296b6c}
Override the basic\-\_\-streambuf xsputn to store the characters in the buffer. The buffer is printed every time a newline is encountered or the buffer becomes full. 

\subsection{Member Data Documentation}
\hypertarget{classcmn_callback_streambuf_ace8ce96c1695f3122b14be13b2129383}{\index{cmn\-Callback\-Streambuf@{cmn\-Callback\-Streambuf}!Buffer@{Buffer}}
\index{Buffer@{Buffer}!cmnCallbackStreambuf@{cmn\-Callback\-Streambuf}}
\subsubsection[{Buffer}]{\setlength{\rightskip}{0pt plus 5cm}template$<$class \-\_\-element , class \-\_\-trait  = std\-::char\-\_\-traits$<$\-\_\-element$>$$>$ {\bf Element\-Type} {\bf cmn\-Callback\-Streambuf}$<$ \-\_\-element, \-\_\-trait $>$\-::Buffer\mbox{[}256\mbox{]}\hspace{0.3cm}{\ttfamily [protected]}}}\label{classcmn_callback_streambuf_ace8ce96c1695f3122b14be13b2129383}
\hypertarget{classcmn_callback_streambuf_a8d35b607ee946b5574313a3f3f19be27}{\index{cmn\-Callback\-Streambuf@{cmn\-Callback\-Streambuf}!Callback@{Callback}}
\index{Callback@{Callback}!cmnCallbackStreambuf@{cmn\-Callback\-Streambuf}}
\subsubsection[{Callback}]{\setlength{\rightskip}{0pt plus 5cm}template$<$class \-\_\-element , class \-\_\-trait  = std\-::char\-\_\-traits$<$\-\_\-element$>$$>$ {\bf Callback\-Type} {\bf cmn\-Callback\-Streambuf}$<$ \-\_\-element, \-\_\-trait $>$\-::Callback\hspace{0.3cm}{\ttfamily [protected]}}}\label{classcmn_callback_streambuf_a8d35b607ee946b5574313a3f3f19be27}
\hypertarget{classcmn_callback_streambuf_a27d747a886699be88098955251af1159}{\index{cmn\-Callback\-Streambuf@{cmn\-Callback\-Streambuf}!Idx@{Idx}}
\index{Idx@{Idx}!cmnCallbackStreambuf@{cmn\-Callback\-Streambuf}}
\subsubsection[{Idx}]{\setlength{\rightskip}{0pt plus 5cm}template$<$class \-\_\-element , class \-\_\-trait  = std\-::char\-\_\-traits$<$\-\_\-element$>$$>$ unsigned int {\bf cmn\-Callback\-Streambuf}$<$ \-\_\-element, \-\_\-trait $>$\-::Idx\hspace{0.3cm}{\ttfamily [protected]}}}\label{classcmn_callback_streambuf_a27d747a886699be88098955251af1159}


The documentation for this class was generated from the following file\-:\begin{DoxyCompactItemize}
\item 
/home/adeguet1/catkin\-\_\-ws/src/cisst-\/saw/cisst/cisst\-Common/\hyperlink{cmn_callback_streambuf_8h}{cmn\-Callback\-Streambuf.\-h}\end{DoxyCompactItemize}
