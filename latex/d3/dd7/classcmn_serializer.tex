\hypertarget{classcmn_serializer}{\section{cmn\-Serializer Class Reference}
\label{classcmn_serializer}\index{cmn\-Serializer@{cmn\-Serializer}}
}


Serialization utility class.

This class allows to serialize objects of different types (all derived from \hyperlink{classcmn_generic_object}{cmn\-Generic\-Object}) as well as the information required to deserialize them (see \hyperlink{classcmn_de_serializer}{cmn\-De\-Serializer}) to and from an S\-T\-L output stream.  




{\ttfamily \#include $<$cmn\-Serializer.\-h$>$}

Inheritance diagram for cmn\-Serializer\-:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{d3/dd7/classcmn_serializer}
\end{center}
\end{figure}
\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
typedef unsigned long long int \hyperlink{classcmn_serializer_a386606b71d53552842929a1f9b42d45c}{Type\-Id}
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classcmn_serializer_a5d6d5a3dbf7e90f2bb187564c31dd72e}{cmn\-Serializer} (std\-::ostream \&output\-Stream)
\item 
\hyperlink{classcmn_serializer_a02941ff3aaf78477e281c8510b8824c0}{$\sim$cmn\-Serializer} ()
\item 
bool \hyperlink{classcmn_serializer_a731785a2b18be7dff2dee525efdda9ba}{Services\-Serialized} (const \hyperlink{classcmn_class_services_base}{cmn\-Class\-Services\-Base} $\ast$services\-Pointer) const 
\item 
void \hyperlink{classcmn_serializer_a03a51b502479952c7d34692895cafdb9}{Reset} (void)
\item 
void \hyperlink{classcmn_serializer_a16b44e63b25af4f6512ac8346956dd05}{Serialize} (const \hyperlink{classcmn_generic_object}{cmn\-Generic\-Object} \&object, const bool serialize\-Object=true)
\item 
void \hyperlink{classcmn_serializer_a39f03c6babcf90492cdc736307407537}{Serialize\-Services} (const \hyperlink{classcmn_class_services_base}{cmn\-Class\-Services\-Base} $\ast$services\-Pointer)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Serialization utility class.

This class allows to serialize objects of different types (all derived from \hyperlink{classcmn_generic_object}{cmn\-Generic\-Object}) as well as the information required to deserialize them (see \hyperlink{classcmn_de_serializer}{cmn\-De\-Serializer}) to and from an S\-T\-L output stream. 

The result is a sequence of class informations (i.\-e. class name as a string and unique identifier) and objects. Each object is sent preceeded by its unique class identifier and class information is preceeded by a 0. This allows \hyperlink{classcmn_de_serializer}{cmn\-De\-Serializer} to determine what is currently deserialized.

The unique identifer used is the address of the object \hyperlink{classcmn_class_services}{cmn\-Class\-Services} associated to each class.

When an object needs to be serialized, the method Serialize will first verify that the class information (name and identifier) has already been serialized. If this is not the case, it will serialize the class information and then the object itself.

\begin{DoxySeeAlso}{See Also}
\hyperlink{classcmn_de_serializer}{cmn\-De\-Serializer} \hyperlink{classcmn_generic_object}{cmn\-Generic\-Object} 
\end{DoxySeeAlso}


\subsection{Member Typedef Documentation}
\hypertarget{classcmn_serializer_a386606b71d53552842929a1f9b42d45c}{\index{cmn\-Serializer@{cmn\-Serializer}!Type\-Id@{Type\-Id}}
\index{Type\-Id@{Type\-Id}!cmnSerializer@{cmn\-Serializer}}
\subsubsection[{Type\-Id}]{\setlength{\rightskip}{0pt plus 5cm}typedef unsigned long long int {\bf cmn\-Serializer\-::\-Type\-Id}}}\label{classcmn_serializer_a386606b71d53552842929a1f9b42d45c}
Type used to identify objects over the network. It uses the services pointer but as the sender or receiver could be a 32 or 64 bits O\-S, we use a data type that can handle both. 

\subsection{Constructor \& Destructor Documentation}
\hypertarget{classcmn_serializer_a5d6d5a3dbf7e90f2bb187564c31dd72e}{\index{cmn\-Serializer@{cmn\-Serializer}!cmn\-Serializer@{cmn\-Serializer}}
\index{cmn\-Serializer@{cmn\-Serializer}!cmnSerializer@{cmn\-Serializer}}
\subsubsection[{cmn\-Serializer}]{\setlength{\rightskip}{0pt plus 5cm}cmn\-Serializer\-::cmn\-Serializer (
\begin{DoxyParamCaption}
\item[{std\-::ostream \&}]{output\-Stream}
\end{DoxyParamCaption}
)}}\label{classcmn_serializer_a5d6d5a3dbf7e90f2bb187564c31dd72e}
Constructor.


\begin{DoxyParams}{Parameters}
{\em output\-Stream} & any stream derived from {\ttfamily std\-::ostream}. The output stream must be created with the open flag {\ttfamily std\-::ostream\-::binary}. \\
\hline
\end{DoxyParams}
\hypertarget{classcmn_serializer_a02941ff3aaf78477e281c8510b8824c0}{\index{cmn\-Serializer@{cmn\-Serializer}!$\sim$cmn\-Serializer@{$\sim$cmn\-Serializer}}
\index{$\sim$cmn\-Serializer@{$\sim$cmn\-Serializer}!cmnSerializer@{cmn\-Serializer}}
\subsubsection[{$\sim$cmn\-Serializer}]{\setlength{\rightskip}{0pt plus 5cm}cmn\-Serializer\-::$\sim$cmn\-Serializer (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classcmn_serializer_a02941ff3aaf78477e281c8510b8824c0}
Destructor 

\subsection{Member Function Documentation}
\hypertarget{classcmn_serializer_a03a51b502479952c7d34692895cafdb9}{\index{cmn\-Serializer@{cmn\-Serializer}!Reset@{Reset}}
\index{Reset@{Reset}!cmnSerializer@{cmn\-Serializer}}
\subsubsection[{Reset}]{\setlength{\rightskip}{0pt plus 5cm}void cmn\-Serializer\-::\-Reset (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{classcmn_serializer_a03a51b502479952c7d34692895cafdb9}
Reset the list of types already sent. \hypertarget{classcmn_serializer_a16b44e63b25af4f6512ac8346956dd05}{\index{cmn\-Serializer@{cmn\-Serializer}!Serialize@{Serialize}}
\index{Serialize@{Serialize}!cmnSerializer@{cmn\-Serializer}}
\subsubsection[{Serialize}]{\setlength{\rightskip}{0pt plus 5cm}void cmn\-Serializer\-::\-Serialize (
\begin{DoxyParamCaption}
\item[{const {\bf cmn\-Generic\-Object} \&}]{object, }
\item[{const bool}]{serialize\-Object = {\ttfamily true}}
\end{DoxyParamCaption}
)}}\label{classcmn_serializer_a16b44e63b25af4f6512ac8346956dd05}
Serialize an object. This method will first verify that the information (\hyperlink{classcmn_class_services}{cmn\-Class\-Services}) related to the class of the object has been serialized using Serialize\-Services. Once this is done, it will serialize the class identifier (pointer on the class information, see \hyperlink{classcmn_class_services}{cmn\-Class\-Services} and \hyperlink{classcmn_class_register}{cmn\-Class\-Register}) and finally call the object's method {\ttfamily Serialize\-Raw}.


\begin{DoxyParams}{Parameters}
{\em object} & An object of a class derived from \hyperlink{classcmn_generic_object}{cmn\-Generic\-Object}. The class of the object must have the virtual method {\ttfamily Serialize\-Raw} re-\/defined to properly serialize the content of the object. \\
\hline
{\em serialize\-Object} & If true, object content is serialized. If false, only class services is serialized and object content is not serialized. True by default.\\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
As this method relies on cmn\-Serialize\-Raw, it might throw an exception. 
\end{DoxyNote}
\hypertarget{classcmn_serializer_a39f03c6babcf90492cdc736307407537}{\index{cmn\-Serializer@{cmn\-Serializer}!Serialize\-Services@{Serialize\-Services}}
\index{Serialize\-Services@{Serialize\-Services}!cmnSerializer@{cmn\-Serializer}}
\subsubsection[{Serialize\-Services}]{\setlength{\rightskip}{0pt plus 5cm}void cmn\-Serializer\-::\-Serialize\-Services (
\begin{DoxyParamCaption}
\item[{const {\bf cmn\-Class\-Services\-Base} $\ast$}]{services\-Pointer}
\end{DoxyParamCaption}
)}}\label{classcmn_serializer_a39f03c6babcf90492cdc736307407537}
Serialize the class information if needed. This method will write the class name (as an S\-T\-L string) and the type identifier used on the serialization end to the output stream. The type identifier used is the address of the class services object (\hyperlink{classcmn_class_services}{cmn\-Class\-Services}). To avoid sending the same information multiple times, this class (\hyperlink{classcmn_serializer}{cmn\-Serializer}) maintains a list of the class identifier already sent.

It is important to note that a regular user doesn't need to use this method as the Serialize method performs this task. It is provided for advanced users who need or want to serialize all the class information first and then serialize their objects. This can be used to avoid time delays while serializing and de-\/serializing objects.


\begin{DoxyParams}{Parameters}
{\em services\-Pointer} & Pointer on object \hyperlink{classcmn_class_services}{cmn\-Class\-Services}. Use \hyperlink{classcmn_class_register_a670426c761d6ef43df9bd67f4041b3da}{cmn\-Class\-Register\-::\-Find\-Class\-Services}, {\ttfamily class\-Name\-::\-Services()} or {\ttfamily object.\-Services()} to retrieve the correct pointer.\\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
As this method relies on cmn\-Serialize\-Raw, it might throw an exception. 
\end{DoxyNote}
\hypertarget{classcmn_serializer_a731785a2b18be7dff2dee525efdda9ba}{\index{cmn\-Serializer@{cmn\-Serializer}!Services\-Serialized@{Services\-Serialized}}
\index{Services\-Serialized@{Services\-Serialized}!cmnSerializer@{cmn\-Serializer}}
\subsubsection[{Services\-Serialized}]{\setlength{\rightskip}{0pt plus 5cm}bool cmn\-Serializer\-::\-Services\-Serialized (
\begin{DoxyParamCaption}
\item[{const {\bf cmn\-Class\-Services\-Base} $\ast$}]{services\-Pointer}
\end{DoxyParamCaption}
) const}}\label{classcmn_serializer_a731785a2b18be7dff2dee525efdda9ba}
Returns true if the services have already been serialized. 

The documentation for this class was generated from the following file\-:\begin{DoxyCompactItemize}
\item 
/home/adeguet1/catkin\-\_\-ws/src/cisst-\/saw/cisst/cisst\-Common/\hyperlink{cmn_serializer_8h}{cmn\-Serializer.\-h}\end{DoxyCompactItemize}
